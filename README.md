# iTunes

### About
A simple application that returns the results from the iTunes API https://itunes.apple.com/search based on the parameters passed.

It is a server-side rendered app. For the first render the results returned are according to a random string of two letters (generated by code) and are limited to 10.

### Steps to Start:

Run the command line tool and execute these commands one by one in sequence.

#### yarn install
This command would install all the dependencies needed for the application to run.

#### yarn run build
This command would run the webpack under the hood, and the client.js bundle would be created inside the public directory.

#### yarn start
This command would start the server, and the site could be accessed by browsing: http://localhost:3000

### Steps to Execute Tests:

#### yarn test
This command would run jest under the hood and execute all the tests. Test coverage can be checked by opening index.html inside '/iTunes/coverage/lcov-report'.

## NOTES

##### i) It is a server-side rendered application.
##### ii) The server side code is in Node.js/Express.
##### iii) The tests cover only the front end, and there are no tests for the backend code.

#### Important: The focus has been on workability rather than UI/UX

## Tech stack used to build the app:

##### - React
##### - Typescript
##### - Redux
##### - Redux Thunk
##### - Node.js + Express
##### - Hooks
##### - Jest + @testing-library/react
##### - Styled Components (non-extensive)
##### - MaterialUI (non-extensive)

## Features:

#### i) For the first render, the number of results displayed is 10. As it is a server-rendered application, disabling the javascript on the page would still show results on the first render.
#### ii) There is a running search, where a user can type the keywords, and the results will be shown accordingly (as returned by iTunes search API)
#### iii) On filter change, only 10 results get displayed. When the user scrolls down next 10 results are fetched from the server via a REST call.
#### iv) Maximum records for a search query are limited to 50. So, 50 results are fetched in batches (10 in each) via API call.
#### v) As the iTunes API has not exposed the pagination option. The application server mocks pagination. The server fetches all 50 records and stores them in the cache.
#### vi) The results are returned from the cache if the search parameters are the same in subsequent calls.
#### vii) A simple implementation of advanced search (open to extension) also exists, where the user can filter the records per se country, language & media type.
#### viii) If no records are returned for a particular search, the application shows the initial 10 results (displayed on the first render) again.
#### ix) Tests at the moment are only for the react components (not for Node.js) and focus on UI testing and the Snapshot testing using Jest and React-Testing-Library libraries.

## Improvement Scope:

##### i) UI/UX 
##### ii) Robustness, with adding ErrorBoundaries, handling errors etc.
##### iii) Adding more test cases.